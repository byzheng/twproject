[{"title":"$:/bangyou/operator/matck.js","text":"/*\\\ntitle: $:/bangyou/operator/matck.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFind the actual title by aka\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.matchaka = function(source, operator, options) {\n    var results = [];\n    // Normalize operand\n    var operand = operator.operand.toLowerCase().trim();\n    if (operand === \"\") {\n        return results;\n    }\n\n    source(function(tiddler, title) {\n        if (tiddler) {\n            // Check for exact title match\n            if (title.toLowerCase() === operand) {\n                results.push(title);\n                return;\n            }\n\n            // Check for match in the aka field\n            var akaField = tiddler.fields[\"aka\"];\n            if (akaField && typeof akaField === \"string\") {\n                var akaList = $tw.utils.parseStringArray(akaField.toLowerCase());\n                if (akaList.includes(operand)) {\n                    results.push(title);\n                }\n            }\n        }\n    });\n\n    return results;\n};\n\n})();\n","type":"application/javascript","module-type":"filteroperator","created":"20250117042739380","creator":"Bangyou Zheng","modified":"20250210014821047","modifier":"Bangyou Zheng","tags":"","revision":"0","bag":"default"}]